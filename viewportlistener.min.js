/*
**             Anakusis JS v1.0               
**
**	Open source under the MIT License.
**	      (c) 2015 WisdomSky
**           http://iwisdomsky.com
**
**/
$.fn.viewportenter=function(e){return void 0!=e?this.on("viewportenter",e):this.trigger("viewportenter"),this},$.event.special.viewportenter={delegateType:"viewportenter",bindType:"viewportenter",add:function(e){var t=$(this);return t[0].ankss_viewportenter_interval=null,t[0].ankss_viewportenter_timeout=null,t[0].ankss_viewportenter_flag=!1,t[0].ankss_viewportenter_callback=$.proxy(function(){var t=$.proxy(function(){var t=this.offset(),i=$(window),s=i.height(),r=i.width(),n=i.scrollTop()+s,a=i.scrollLeft()+r;this.is(":visible")&&parseInt(this.css("opacity"))>0&&"visible"==this.css("visibility")&&n>=t.top&&n<=t.top+s+this.height()&&a>=t.left&&a<=t.left+r+this.width()?(this.ankss_viewportenter_flag||e.handler.apply(this,[e]),this.ankss_viewportenter_flag=!0):this.ankss_viewportenter_flag=!1},this);clearTimeout(this[0].ankss_viewportenter_timeout),clearInterval(this[0].ankss_viewportenter_interval),this[0].ankss_viewportenter_timeout=setTimeout($.proxy(function(){clearInterval(this[0].ankss_viewportenter_interval),this[0].ankss_viewportenter_interval=setInterval($.proxy(function(){t()},this),250)},this),1e3),t()},t),$(window).on("scroll",t[0].ankss_viewportenter_callback),t},remove:function(){var e=$(this);return e[0].ankss_viewportenter_interval=null,e[0].ankss_viewportenter_timeout=null,e[0].ankss_viewportenter_flag=!1,e[0].ankss_viewportenter_callback=null,$(window).off("scroll",e[0].ankss_viewportenter_callback),clearTimeout(e[0].ankss_viewportenter_timeout),clearInterval(e[0].ankss_viewportenter_interval),e}},$.fn.viewportleave=function(e){return void 0!=e?this.on("viewportleave",e):this.trigger("viewportleave"),this},$.event.special.viewportleave={delegateType:"viewportleave",bindType:"viewportleave",add:function(e){var t=$(this);return t[0].ankss_viewportleave_interval=null,t[0].ankss_viewportleave_timeout=null,t[0].ankss_viewportleave_flag=!1,t[0].ankss_viewportleave_callback=$.proxy(function(){var t=$.proxy(function(){var t=this.offset(),i=$(window),s=i.height(),r=i.width(),n=i.scrollTop()+s,a=i.scrollLeft()+r;!this.is(":visible")||0==parseInt(this.css("opacity"))||"invisible"==this.css("visibility")||n<t.top||n>t.top+s+this.height()||a<t.left||a>t.left+r+this.width()?(this.ankss_viewportleave_flag||e.handler.apply(this,[e]),this.ankss_viewportleave_flag=!0):this.ankss_viewportleave_flag=!1},this);clearTimeout(this[0].ankss_viewportleave_timeout),clearInterval(this[0].ankss_viewportleave_interval),this[0].ankss_viewportleave_timeout=setTimeout($.proxy(function(){clearInterval(this[0].ankss_viewportleave_interval),this[0].ankss_viewportleave_interval=setInterval($.proxy(function(){t()},this),250)},this),1e3),t()},t),$(window).on("scroll",t[0].ankss_viewportleave_callback),t},remove:function(){var e=$(this);return e[0].ankss_viewportleave_interval=null,e[0].ankss_viewportleave_timeout=null,e[0].ankss_viewportleave_flag=!1,e[0].ankss_viewportleave_callback=null,$(window).off("scroll",e[0].ankss_viewportleave_callback),clearTimeout(e[0].ankss_viewportleave_timeout),clearInterval(e[0].ankss_viewportleave_interval),e}};
